var tableWrap=document.getElementById("table-wrap"),columnsTitle=["Banana","Apple","Peach","Cherry","Orange","Mango","Kiwi","BMW","Toyota","Mazda","Audi","Porsche","Alligator","Ant","Bear","Bird","Camel","Cat","Dog","Bison","Wolf","Pig"],innerGroup=[{group:!0,id:"1533541240197",name:"one",active:!1},{id:"1533541240198",name:"two",active:!0},{id:"1533541240199",name:"three",active:!0},{id:"1533541240200",name:"four",active:!0},{id:"1533541240204",name:"five",active:!0},{id:"1533541240205",name:"six",active:!1},{id:"1533541240206",name:"seven",active:!1},{id:"1533541240207",name:"eight",active:!0}];$(document).ready(function(){var e=function(t){this.group=t.group,this.id=t.id.toString(),this.name=t.name,this.active=t.active};var o=function(){for(var t=[],a=Date.now(),n=0,i=columnsTitle.length;n<i;n+=1)t.push(new e({group:!(columnsTitle[n].length<5),id:a+n,name:columnsTitle[n],active:!(columnsTitle[n].length<5)}));return t}();function l(t){for(var a='<ul class="dropdown-list scrollbar">',n=0,i=t.length;n<i;n+=1)a+='<li><button class="switch-group '+(!0===t[n].group?"but":"")+'"'+(!0===t[n].group?' data-group="true"':'data-group="false"')+' data-id="'+t[n].id+'">'+t[n].name+"</button>"+(!0===t[n].group?'<div class="btn-icon"><i class="fas fa-check-circle"></i></div>':"")+'<div class="selected"></div></li>';return a+="</ul>"}function r(){for(var t=[o.filter(function(t){return!0===t.active}).map(function(t){return t.name})],a=1;a<200;a+=1){t[a]=[];for(var n=0;n<t[0].length;n+=1)t[a][n]=SERVICE.getRandomInt(100)}return t}function s(t){SERVICE.preloader(!0),$(tableWrap).html("");new Handsontable(tableWrap,{data:r(),rowHeaders:!0,colHeaders:!0,stretchH:"all",columnSorting:!0,sortIndicator:!0,manualColumnResize:!0,manualRowResize:!0,afterRender:SERVICE.preloader(!1)})}console.log(o),$(".btn-list").on("click","ul .but",function(){var t=$(this).parent(),a=t.find(".but").attr("data-id"),n=t.find(".but").attr("data-group"),i=t.toggleClass("active").find(".selected");if("true"===n){var e=o.find(function(t){if(t.id===a)return t.active=!t.active,t.value=innerGroup,t});e.value?i.addClass("load-complete").html(l(e.value)):i.addClass("load-complete").html(l(innerGroup)),$("#elements-wrap").on("click",".switch-wrap",function(){innerGroup.map(function(t){return t.active=!0}),$(this).toggleClass("active")}),s(),console.log(e)}}),$("#elements-wrap").on("click",".btn-icon",function(){innerGroup.map(function(t){return t.active=!0}),$(this).toggleClass("active")}),$.ajax({url:"https://randomuser.me/api/?results=25",dataType:"json",success:function(i){$("#reporting-list").html(function(t){for(var a="<ul>",n=0,i=t.length;n<i;n+=1)a+='<li><button type="button">'+t[n].name.first+" "+t[n].name.last+'</button><div class="dropdown-wrap"><div class="btn-icon"><i class="fas fa-folder-open"></i></div><div class="btn-icon second far fa-caret-square-down" data-id="'+t[n].login.uuid+'"><ul class="dropdown-list right"><img src="img/preloader-small.gif" alt="preloader-small.gif"></ul></div></div></li>';return a+="</ul>"}(i.results)).find("ul li").on("click",function(){s($(this).attr("data-id")),$("ul li").removeClass("active"),$(this).addClass("active")}).find(".btn-icon.second").hover(function(){var t=$(this);if(!t.hasClass("load-complete")){var a=t.attr("data-id"),n=i.results.find(function(t){return t.login.uuid===a});n.list=r(),setTimeout(function(){t.addClass("load-complete").html(function(t){for(var a='<ul class="dropdown-list right scrollbar">',n=0,i=t.length;n<i;n+=1)a+="<li><button>"+t[n]+"</button></li>";return a+="</ul>"}(n.list[0]))},3e3)}}),$("#reporting-list ul li").eq(5).click(),$(".dropdown-wrap .btn-list").html(l(o)),$("#elements-wrap").html(l(o))}}),$("#sign-out").on("click",function(){$(".wrapper").html("").load(loginPage)}),$(".popup-btn").click(function(){var t=$("#"+$(this).data("popup"));t.addClass("active").find(".fade-out").click(function(){t.css("opacity","0").find(".form-content").css("margin-top","350px"),setTimeout(function(){$(".popup").removeClass("active"),t.css("opacity","").find(".form-content").css("margin-top","")},600)})}),$(".calendar").ionCalendar({lang:"ru",sundayFirst:!1,years:"30",format:"DD.MM.YYYY",onClick:function(t){$("#"+$(this).parents(".calendar").attr("data-output")).val(t)}})});