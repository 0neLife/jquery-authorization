$(document).ready(function(){var a=!1,o=!1;$("#login-form button").prop("disabled",!0),$("input#email, input#password").unbind().blur(function(){var e=$(this).attr("id"),r=$(this).val();switch(e){case"email":var t=/.+?\@.+/g;a=!1,$(this).removeClass("valid"),""==r?$(this).nextAll(".error-message").addClass("active").html("*Email is required"):t.test(r)?($(this).nextAll(".error-message").removeClass("active").html(""),a=!0):$(this).nextAll(".error-message").addClass("active").html("*Valid mail must contain letters before and after @");break;case"password":t=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).+/;var s=r.length;o=!1,""==r?$(this).nextAll(".error-message").addClass("active").html("*Password is required"):s<5?$(this).nextAll(".error-message").addClass("active").html("*Password must be at least 5 characters long"):t.test(r)?($(this).nextAll(".error-message").removeClass("active"),o=!0):$(this).nextAll(".error-message").addClass("active").html("*Your password must contain at least one uppercase, one lowercase, and one number")}a&&o?$("form#login-form button").prop("disabled",!1):$("form#login-form button").prop("disabled",!0)}),$("form#login-form").on("submit",function(e){e.preventDefault();var s="";window.navigator.onLine?(SERVICE.networkStatus(!0),$.ajax({url:"https://reqres.in/api/login",type:"POST",dataType:"json",data:SERVICE.prepareAjaxData($(this).serializeArray()),beforeSend:function(e,r){console.log(e)},success:function(e,r,t){4===t.readyState&&200===t.status?(SERVICE.preloader(!0),"application/json; charset=utf-8"===t.getResponseHeader("Content-Type")&&(sessionStorage.setItem("accessToken",e.token),$(".wrapper").html("").load(homePage),setTimeout(function(){SERVICE.preloader(!1)},2e3))):201===t.status?(s="The request has been fulfilled and has resulted in one or \nmore new resources being created. #[201] Created",SERVICE.errorMsg(!0,s),console.log("The request has been fulfilled and has resulted in one or \nmore new resources being created. #[201]")):(s="Uncaught Error.\n"+t.responseJSON+"!",SERVICE.errorMsg(!0,s))},error:function(e,r){s=0===e.status?"Request is invalid. The browser refused to honor the request.\nMake sure that your server is sending the appropriate Access-Control-headers with each request.":404==e.status?"Requested page not found! #[404]":500==e.status?"Internal Server Error! #[500].":"parsererror"===r?"Requested JSON parse failed!":"timeout"===r?"Time out error!":"abort"===r?"Ajax request aborted!":"Uncaught Error.\n"+e.responseJSON+"!",SERVICE.errorMsg(!0,s)}})):(s="Network aren't available. Please, check your network connection!",SERVICE.errorMsg(!0,s),SERVICE.networkStatus(!1),console.log("Network aren't available. Please, check your network connection!"))})});