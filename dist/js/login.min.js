$(document).ready(function(){var r=!1,o=!1;$("#login-form button").prop("disabled",!0),$("input#email, input#password").unbind().blur(function(){var e=$(this).attr("id"),s=$(this).val();switch(e){case"email":var a=/.+?\@.+/g;r=!1,$(this).removeClass("valid"),""==s?$(this).nextAll(".error-message").addClass("active").html("*Email is required"):a.test(s)?($(this).nextAll(".error-message").removeClass("active").html(""),r=!0):$(this).nextAll(".error-message").addClass("active").html("*Valid mail must contain letters before and after @");break;case"password":a=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).+/;var t=s.length;o=!1,""==s?$(this).nextAll(".error-message").addClass("active").html("*Password is required"):t<5?$(this).nextAll(".error-message").addClass("active").html("*Password must be at least 5 characters long"):a.test(s)?($(this).nextAll(".error-message").removeClass("active"),o=!0):$(this).nextAll(".error-message").addClass("active").html("*Your password must contain at least one uppercase, one lowercase, and one number")}r&&o?$("form#login-form button").prop("disabled",!1):$("form#login-form button").prop("disabled",!0)}),$("form#login-form").on("submit",function(e){e.preventDefault(),$.ajax({url:"https://reqres.in/api/login",type:"POST",dataType:"json",data:SERVICE.prepareAjaxData($(this).serializeArray()),beforeSend:SERVICE.preloader(!0),success:function(e){console.log(e),sessionStorage.setItem("accessToken",e.token),sessionStorage.getItem("accessToken")===e.token?($(".wrapper").html("").load(homePage),console.log("tokens are the same")):console.log("tokens are not the same")},afterSend:setTimeout(function(){SERVICE.preloader(!1)},2e3)})})});